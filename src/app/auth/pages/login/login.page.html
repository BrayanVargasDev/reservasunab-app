<ion-content [fullscreen]="true">
  <ion-grid class="auth-grid ion-no-padding">
    <ion-row
      class="ion-justify-content-center ion-align-items-center full-height">
      <ion-col
        size="12"
        size-sm="10"
        size-md="8"
        size-lg="6"
        size-xl="4"
        class="ion-padding">
        <ion-row class="ion-justify-content-center ion-align-items-center">
          <ion-col class="ion-text-center">
            <ion-text color="primary">
              <h1 class="auth-title ion-padding-bottom">Ingresar</h1>
            </ion-text>
            <ion-text
              color="dark"
              class="ion-margin-bottom auth-subtitle">
              <h2 class="welcome-text">Bienvenido!</h2>
            </ion-text>
          </ion-col>
        </ion-row>

        <form
          (ngSubmit)="onLogin()"
          [formGroup]="loginForm"
          autocomplete="off">
          <ion-col size="12">
            <ion-item
              lines="none"
              [ngClass]="{
                'auth-item': true,
                'auth-item--invalid': formUtils.esCampoValido(loginForm, 'email'),
                }">
              <ion-icon
                name="mail-outline"
                slot="start"
                [color]="obtenerColorIcono('email')"
                class="auth-icon"></ion-icon>
              <ion-input
                class="auth-input"
                color="primary"
                labelPlacement="stacked"
                label="Correo"
                placeholder="Ingresa tu correo..."
                type="email"
                formControlName="email"
                name="email"
                email>
              </ion-input>
            </ion-item>
            <div class="error-container">
              <ion-text
                class="error-text"
                [class.visible]="formUtils.esCampoValido(loginForm, 'email')">
                {{ formUtils.esCampoValido(loginForm, 'email') ?
                formUtils.obtenerErrorDelCampo(loginForm, 'email') : ' ' }}
              </ion-text>
            </div>
          </ion-col>

          <ion-item
            lines="none"
            [ngClass]="{
              'auth-item': true,
              'auth-item--invalid': formUtils.esCampoValido(loginForm, 'password'),
            }">
            <ion-icon
              name="key-outline"
              [color]="obtenerColorIcono('password')"
              slot="start"
              class="auth-icon"></ion-icon>
            <ion-input
              labelPlacement="stacked"
              label="Contraseña"
              placeholder="Ingresa tu contraseña..."
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              name="password"
              required
              minlength="6"></ion-input>
            <ion-icon
              class="auth-icon eye-icon"
              [color]="obtenerColorIcono('password')"
              [name]="showPassword ? 'eye-outline' : 'eye-off-outline'"
              slot="end"
              (click)="togglePasswordVisibility()"></ion-icon>
          </ion-item>
          <div class="error-container">
            <ion-text
              class="error-text"
              [class.visible]="formUtils.esCampoValido(loginForm, 'password')">
              {{ formUtils.esCampoValido(loginForm, 'password') ?
              formUtils.obtenerErrorDelCampo(loginForm, 'password') : ' ' }}
            </ion-text>
          </div>

          <ion-row>
            <ion-col
              size="12"
              class="ion-text-right">
              <ion-button
                fill="clear"
                color="dark"
                size="small"
                class="ion-no-padding auth-text-button"
                routerLink="/auth/reset-password">
                Olvidaste tu clave?
              </ion-button>
            </ion-col>
          </ion-row>

          <div class="ion-padding-top ion-padding-bottom">
            <app-action-button
              [texto]="'Ingresar'"
              [tipo]="'submit'"
              [color]="'primary'"
              [tamaño]="'large'"
              [classList]="'w-100'"
              [disabled]="loginForm.invalid || false">
            </app-action-button>
          </div>
        </form>

        <ion-row class="ion-text-center ion-padding-top">
          <ion-col class="auth-link-container">
            <div
              class="ion-align-items-center ion-justify-content-center responsive-link">
              <ion-text color="dark">No tienes una cuenta?</ion-text>
              <ion-button
                color="primary"
                fill="clear"
                routerLink="/auth/registro"
                class="auth-text-button">
                Registrate.
              </ion-button>
            </div>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
