import{f as h}from"./chunk-N4CCYIXR.js";import{v as f}from"./chunk-UAEYNMJW.js";import{C as a,G as t}from"./chunk-YPFPCNBD.js";import{D as u,H as c,Rb as d,U as m,k as o,pb as l}from"./chunk-U6U25BWF.js";import{j as r}from"./chunk-LVXXLD6S.js";var R=`${t.apiUrl}/roles`,z=(e,i)=>r(null,null,function*(){return o(e.post(R,i))});var $=`${t.apiUrl}/roles`,N=(e,i,n)=>r(null,null,function*(){let s=`${$}/${i}`;return o(e.patch(s,n))});var Y=t.apiUrl;var E=t.apiUrl,ot=(e,i)=>r(null,null,function*(){let n=new URLSearchParams({page:(i.pageIndex+1).toString(),per_page:i.pageSize.toString(),search:i.search||""}),s=`${E}/permisos?${n.toString()}`;return o(e.get(s))});var b=t.apiUrl,mt=(e,i)=>r(null,null,function*(){let n=new URLSearchParams({page:(i.pageIndex+1).toString(),per_page:i.pageSize.toString(),search:i.search||""}),s=`${b}/roles/permisos?${n.toString()}`;return o(e.get(s))});var q=t.apiUrl,g=e=>r(null,null,function*(){return o(e.get(`${q}/roles`))});var L=t.apiUrl,yt=(e,i,n)=>r(null,null,function*(){let s=`${L}/usuarios/${i}/permisos`;return o(e.patch(s,{permisos:n}))});var B=t.apiUrl,y=e=>r(null,null,function*(){return o(e.get(`${B}/categorias`))});var V=t.apiUrl,U=e=>r(null,null,function*(){return o(e.get(`${V}/ciudades`))});var I=t.apiUrl,x=e=>o(e.get(`${I}/creditos`));var P=t.apiUrl,S=e=>r(null,null,function*(){return o(e.get(`${P}/espacios/all`))});var Q=t.apiUrl;function v(e){return r(this,null,function*(){return o(e.get(`${Q}/grupos`))})}var T=t.apiUrl,_=e=>r(null,null,function*(){return o(e.get(`${T}/pantallas`))});var K=t.apiUrl,Zt=e=>r(null,null,function*(){return o(e.get(`${K}/regimenes-tributarios`))});var w=t.apiUrl,A=e=>r(null,null,function*(){return o(e.get(`${w}/sedes`))});var ne=t.apiUrl;var C=t.apiUrl,F=e=>r(null,null,function*(){return o(e.get(`${C}/tipo-doc`))});var j=t.apiUrl,he=e=>r(null,null,function*(){try{let i=yield fetch(`${j}/validate-email/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),{data:n}=yield i.json();return n}catch(i){throw console.error("Error in validarEmailTomado action:",i),i}});var je=(()=>{let i=class i{constructor(){this.platform=c(f),this.authService=c(h),this.http=c(d),this._esMovil=m(!1),this._apiUrl=m(t.apiUrl||"https://api.example.com"),this._samlUrl=m(t.baseUrl||"https://saml.example.com/login"),this._tenantId=m(t.tenantId||"default-tenant-id"),this.tipoDocQuery=a(()=>({queryKey:["tipoDocumento"],queryFn:()=>F(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.pantallasQuery=a(()=>({queryKey:["pantallas"],queryFn:()=>_(this.http),enabled:this.authService.estaAutenticado()})),this.rolesQuery=a(()=>({queryKey:["roles"],queryFn:()=>g(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.sedesQuery=a(()=>({queryKey:["sedes"],queryFn:()=>A(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.categoriasQuery=a(()=>({queryKey:["categorias"],queryFn:()=>y(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.espaciosQuery=a(()=>({queryKey:["espacios-select"],queryFn:()=>S(this.http),select:s=>s.data.map(p=>({id:p.id,nombre:p.nombre})),enabled:this.authService.estaAutenticado()})),this.gruposQuery=a(()=>({queryKey:["grupos"],queryFn:()=>v(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.ciudadesQuery=a(()=>({queryKey:["ciudades"],queryFn:()=>U(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this.creditosQuery=a(()=>({queryKey:["creditos"],queryFn:()=>x(this.http),select:s=>s.data,enabled:this.authService.estaAutenticado()})),this._editando=m(!1),this.editando=l(()=>this._editando()),this._guardando=m(!1),this.guardando=l(()=>this._guardando()),this.checkIfMobile()}checkIfMobile(){this._esMovil.set(this.platform.is("ios")||this.platform.is("android"))}get apiUrl(){return this._apiUrl()}get samlUrl(){return this._samlUrl()}get tenantId(){return this._tenantId()}get esMovil(){return this._esMovil}setEditando(s){this._editando.set(s)}setGuardando(s){this._guardando.set(s)}};i.\u0275fac=function(p){return new(p||i)},i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();export{z as a,N as b,ot as c,mt as d,yt as e,U as f,Zt as g,he as h,je as i};
